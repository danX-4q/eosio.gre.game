target := gregame.wasm
abi := $(target:.wasm=.abi)
src := $(target:.wasm=.cpp)
dep := $(target:.wasm=.hpp) $(wildcard datatypes/*.hpp) $(wildcard utility/*.hpp)

default: $(target)

$(target): $(src) $(dep)
	eosio-cpp $(src) -o $(target) --abigen

clean:
	rm -rf $(target) $(abi)
